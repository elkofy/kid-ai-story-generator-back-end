<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Story Generator</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
      $(function() {
        $('form').submit(function(event) {
          event.preventDefault();
          var prompt = $('input[name="prompt"]').val();
          $.ajax({
            url: '/generate-story',
            data: { prompt: prompt },
            success: function(story) {
                console.log(story)
              $('#story').text(story.message);
              $("#image")[0].src = story.image;
            },
            error: function(xhr, status, error) {
              console.error(error);
              alert(error);

            }
          });
        });
      });
    </script>
  </head>
  <body>
    <h1>Story Generator</h1>
    <form>
      <label for="prompt">Enter a story prompt:</label><br>
      <input type="text" name="prompt" id="prompt"><br>
      <button type="submit">Generate Story</button>
    </form>
    <div id="story"></div>
    <img id="image" src="">
  </body>
</html>
